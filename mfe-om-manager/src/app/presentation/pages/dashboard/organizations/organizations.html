<div class="om_organizations">

	<p-card class="om_organizations__card">

		<h2>{{ title }}</h2>

		<a class="om_btn om_btn--primary om_btn-sm" style="margin: 30px 0;" [routerLink]="'/organizations/create'">
			<i class="pi pi-plus"></i>
			{{ createOrgText }}
		</a>

		<p-table 
			[value]="organizations"
			[paginator]="true"
    	[rows]="5"
			[rowsPerPageOptions]="[5, 10, 20]"
		>

			<ng-template #header>
				<tr>
					<th>Name</th>
					<th>Action</th>
				</tr>
			</ng-template>

			<ng-template #body let-org>

				<tr>

					<td [pEditableColumn]="org.name" pEditableColumnField="name">

						<p-cellEditor>

							<ng-template #input>

								<div style="display: flex; align-items: center; justify-content: center;">

									<input type="text" pInputText [(ngModel)]="org.name" />
									
									<button 
										class="om_btn om_btn_outline--primary om_btn-sm" 
										style="margin-left: 10px;"
										[disabled]="org.name === ''"
										(click)="updateOrg(org.id, org.name)"
									>
										<i class="pi pi-pencil" style="margin: 0;"></i>
									</button>

								</div>
								
								

							</ng-template>

							<ng-template #output>
								<i class="pi pi-pencil" style="margin: 0 10px 0 0;"></i>
								{{ org.name }}
							</ng-template>

						</p-cellEditor>

					</td>

					<td>
						<button class="om_btn om_btn--danger om_btn-sm" (click)="deleteOrg(org.id)">
							<i class="pi pi-trash" style="margin: 0;"></i>
						</button>
					</td>

				</tr>

			</ng-template>

		</p-table>

	</p-card>


	<app-loading-modal [isLoading]="loading" />

</div>
